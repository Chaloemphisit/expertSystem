<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Expert System Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/uikit.min.css" />
  <link rel="stylesheet" href="css/app.css" />
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
  <div class="bg">
    <div class="uk-container uk-container-small">
      <h1 class="uk-heading-hero">Expert System Demo</h1>
      <br>
      <div class="uk-card uk-card-default uk-card-hover">
        <div class="uk-card uk-card-body">
          <h3 class="uk-card-title">What light did you see?</h3>
          <form name="form">
            <select class="uk-select" name="light" required>
              <option value="red">Red</option>
              <option value="yellow">Yellow</option>
              <option value="green">Green</option>
            </select>
            <br>
            <p></p>
            <input class="uk-button uk-button-primary uk-button-large uk-width-1-1" type="submit" value="Submit"
              onclick="run(); return false">
          </form>
        </div>
      </div>
      <br>
      <div id="answerBox" class="uk-card uk-card-secondary" style="display:none">
        <div class="uk-card uk-card-body">
          <h3 id="answer" class="uk-card-title" style="text-align:center;"><b></b></h3>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  function run() {
    // Show answerBox
    document.getElementById('answerBox').style.display = ''

    //Sent HTTP GET request to our express server
    axios.get('/res/api', {
      //Pass parameter here
      params: {
        light: document.form.light.value
      }
    })
      .then(function (response) {
        //Get response from request
        document.getElementById("answer").innerHTML = response.data.res;
      })
      .catch(function (error) {
        console.log(error);
      });
  }
</script>

</html>